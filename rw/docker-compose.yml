version: '3.8'
services:
  agent:
    image: python:3.11-slim
    env_file: .env
    volumes:
      - ./:/workspace
    working_dir: /workspace
    entrypoint:
      - "/bin/sh"
      - "-c"
      - "pip install --no-cache-dir -r requirements.txt && exec python agent.py \"$@\""
    tty: true
